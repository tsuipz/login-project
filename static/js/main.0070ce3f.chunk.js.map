{"version":3,"sources":["components/Login/Login.module.css","components/UI/Input/Input.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","components/UI/Card/Card.js","components/UI/Button/Button.js","components/UI/Input/Input.js","store/auth-context.js","components/Login/Login.js","components/Home/Home.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","Card","props","className","classes","card","children","Button","type","button","onClick","disabled","Input","React","forwardRef","ref","inputRef","useRef","activate","current","focus","useImperativeHandle","control","isValid","invalid","htmlFor","id","label","value","onChange","onBlur","AuthContext","createContext","isLoggedIn","onLogout","onLogin","email","password","AuthContextProvider","useState","setIsLoggedIn","useEffect","localStorage","getItem","Provider","removeItem","setItem","emailReducer","state","action","val","includes","passwordReducer","trim","length","Login","formIsValid","setFormIsValid","useReducer","emailState","dispatchEmail","passwordState","dispatchPassword","authCtx","useContext","emailInputRef","passwordInputRef","console","log","emailIsValid","passwordIsValid","identifier","setTimeout","clearTimeout","login","onSubmit","event","preventDefault","target","actions","btn","Home","home","Navigation","ctx","nav","href","MainHeader","App","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0070ce3f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2Px22\",\"actions\":\"Login_actions__1b5Oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Input_control__7JYPz\",\"invalid\":\"Input_invalid__1XscM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1te4P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2lgkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3idT9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__JfAVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__2OmAM\"};","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useRef, useImperativeHandle } from 'react';\n\nimport classes from './Input.module.css';\n\nconst Input = React.forwardRef((props, ref) => {\n\tconst inputRef = useRef();\n\n\tconst activate = () => {\n\t\tinputRef.current.focus();\n\t};\n\n\tuseImperativeHandle(ref, () => {\n\t\treturn {\n\t\t\tfocus: activate,\n\t\t};\n\t});\n\n\treturn (\n\t\t<div className={`${classes.control} ${props.isValid === false ? classes.invalid : ''}`}>\n\t\t\t<label htmlFor={props.id}>{props.label}</label>\n\t\t\t<input\n\t\t\t\tref={inputRef}\n\t\t\t\ttype={props.type}\n\t\t\t\tid={props.id}\n\t\t\t\tvalue={props.value}\n\t\t\t\tonChange={props.onChange}\n\t\t\t\tonBlur={props.onBlur}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nexport default Input;\n","import React, { useState, useEffect } from 'react';\n\nconst AuthContext = React.createContext({\n\tisLoggedIn: false,\n\tonLogout: () => {},\n\tonLogin: (email, password) => {},\n});\n\nexport const AuthContextProvider = (props) => {\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst storedUserLoggedInInformation = localStorage.getItem('isLoggedIn');\n\n\t\tif (storedUserLoggedInInformation === '1') {\n\t\t\tsetIsLoggedIn(true);\n\t\t}\n\t}, []);\n\n\tconst logoutHandler = () => {\n\t\tlocalStorage.removeItem('isLoggedIn');\n\t\tsetIsLoggedIn(false);\n\t};\n\n\tconst loginHandler = () => {\n\t\tlocalStorage.setItem('isLoggedIn', '1');\n\t\tsetIsLoggedIn(true);\n\t};\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ isLoggedIn: isLoggedIn, onLogout: logoutHandler, onLogin: loginHandler }}\n\t\t>\n\t\t\t{props.children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport default AuthContext;\n","import React, { useState, useEffect, useReducer, useContext, useRef } from 'react';\n\nimport Card from '../UI/Card/Card';\nimport Button from '../UI/Button/Button';\nimport Input from '../UI/Input/Input';\nimport classes from './Login.module.css';\nimport AuthContext from '../../store/auth-context';\n\nconst emailReducer = (state, action) => {\n\tif (action.type === 'USER_INPUT') {\n\t\treturn { value: action.val, isValid: action.val.includes('@') };\n\t}\n\tif (action.type === 'INPUT_BLUR') {\n\t\treturn { value: state.value, isValid: state.value.includes('@') };\n\t}\n\treturn { value: '', isValid: false };\n};\n\nconst passwordReducer = (state, action) => {\n\tif (action.type === 'USER_INPUT') {\n\t\treturn { value: action.val, isValid: action.val.trim().length > 6 };\n\t}\n\tif (action.type === 'INPUT_BLUR') {\n\t\treturn { value: state.value, isValid: state.value.trim().length > 6 };\n\t}\n\treturn { value: '', isValid: false };\n};\n\nconst Login = () => {\n\t// const [enteredEmail, setEnteredEmail] = useState('');\n\t// const [emailIsValid, setEmailIsValid] = useState();\n\t// const [enteredPassword, setEnteredPassword] = useState('');\n\t// const [passwordIsValid, setPasswordIsValid] = useState();\n\tconst [formIsValid, setFormIsValid] = useState(false);\n\n\tconst [emailState, dispatchEmail] = useReducer(emailReducer, {\n\t\tvalue: '',\n\t\tisValid: null,\n\t});\n\tconst [passwordState, dispatchPassword] = useReducer(passwordReducer, {\n\t\tvalue: '',\n\t\tisValid: null,\n\t});\n\n\tconst authCtx = useContext(AuthContext);\n\n\tconst emailInputRef = useRef();\n\tconst passwordInputRef = useRef();\n\n\tuseEffect(() => {\n\t\tconsole.log('EFFECT RUNNING');\n\t\treturn () => {\n\t\t\tconsole.log('CLEANUP');\n\t\t};\n\t}, []);\n\n\tconst { isValid: emailIsValid } = emailState;\n\tconst { isValid: passwordIsValid } = passwordState;\n\n\tuseEffect(() => {\n\t\tconst identifier = setTimeout(() => {\n\t\t\tconsole.log('Checking form validty!');\n\t\t\tsetFormIsValid(emailIsValid && passwordIsValid);\n\t\t}, 500);\n\n\t\treturn () => {\n\t\t\tconsole.log('CLEANUP');\n\t\t\tclearTimeout(identifier);\n\t\t};\n\t}, [emailIsValid, passwordIsValid]);\n\n\tconst emailChangeHandler = (event) => {\n\t\t// setEnteredEmail(event.target.value);\n\t\tdispatchEmail({ type: 'USER_INPUT', val: event.target.value });\n\t\t// setFormIsValid(emailState.isValid && passwordState.isValid);\n\t};\n\n\tconst passwordChangeHandler = (event) => {\n\t\t// setEnteredPassword(event.target.value);\n\t\tdispatchPassword({ type: 'USER_INPUT', val: event.target.value });\n\t\t// setFormIsValid(emailState.isValid && passwordState.isValid);\n\t};\n\n\tconst validateEmailHandler = () => {\n\t\t// setEmailIsValid(emailState.isValid);\n\t\tdispatchEmail({ type: 'INPUT_BLUR' });\n\t};\n\n\tconst validatePasswordHandler = () => {\n\t\t// setPasswordIsValid(enteredPassword.trim().length > 6);\n\t\tdispatchEmail({ type: 'INPUT_BLUR' });\n\t};\n\n\tconst submitHandler = (event) => {\n\t\tevent.preventDefault();\n\t\tif (formIsValid) {\n\t\t\tauthCtx.onLogin(emailState.value, passwordState.value);\n\t\t} else if (!emailIsValid) {\n\t\t\temailInputRef.current.focus();\n\t\t} else {\n\t\t\tpasswordInputRef.current.focus();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Card className={classes.login}>\n\t\t\t<form onSubmit={submitHandler}>\n\t\t\t\t<Input\n\t\t\t\t\tref={emailInputRef}\n\t\t\t\t\tid='email'\n\t\t\t\t\tlabel='E-Mail'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tisValid={emailState.isValid}\n\t\t\t\t\tvalue={emailState.value}\n\t\t\t\t\tonChange={emailChangeHandler}\n\t\t\t\t\tonBlur={validateEmailHandler}\n\t\t\t\t/>\n\n\t\t\t\t<Input\n\t\t\t\t\tref={passwordInputRef}\n\t\t\t\t\tid='password'\n\t\t\t\t\tlabel='Password'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tisValid={passwordState.isValid}\n\t\t\t\t\tvalue={passwordState.value}\n\t\t\t\t\tonChange={passwordChangeHandler}\n\t\t\t\t\tonBlur={validatePasswordHandler}\n\t\t\t\t/>\n\n\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t<Button type='submit' className={classes.btn}>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</Card>\n\t);\n};\n\nexport default Login;\n","import React, { useContext } from 'react';\n\nimport Card from '../UI/Card/Card';\nimport Button from '../UI/Button/Button';\nimport classes from './Home.module.css';\nimport AuthContext from '../../store/auth-context';\n\nconst Home = () => {\n\tconst authCtx = useContext(AuthContext);\n\n\treturn (\n\t\t<Card className={classes.home}>\n\t\t\t<h1>Welcome back!</h1>\n\t\t\t<Button onClick={authCtx.onLogout}>Logout</Button>\n\t\t</Card>\n\t);\n};\n\nexport default Home;\n","import React, { useContext } from 'react';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './Navigation.module.css';\n\nconst Navigation = () => {\n\tconst ctx = useContext(AuthContext);\n\n\treturn (\n\t\t<nav className={classes.nav}>\n\t\t\t<ul>\n\t\t\t\t{ctx.isLoggedIn && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href='/'>Users</a>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t\t{ctx.isLoggedIn && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href='/'>Admin</a>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t\t{ctx.isLoggedIn && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button onClick={ctx.onLogout}>Logout</button>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport Navigation from './Navigation';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n\treturn (\n\t\t<header className={classes['main-header']}>\n\t\t\t<h1>A Typical Page</h1>\n\t\t\t<Navigation onLogout={props.onLogout} />\n\t\t</header>\n\t);\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\n\nimport Login from './components/Login/Login';\nimport Home from './components/Home/Home';\nimport MainHeader from './components/MainHeader/MainHeader';\nimport AuthContext from './store/auth-context';\n\nfunction App() {\n\tconst ctx = useContext(AuthContext);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<MainHeader />\n\t\t\t<main>\n\t\t\t\t{!ctx.isLoggedIn && <Login onLogin={ctx.onLogin} />}\n\t\t\t\t{ctx.isLoggedIn && <Home onLogout={ctx.onLogout} />}\n\t\t\t</main>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './store/auth-context';\n\nReactDOM.render(\n\t<AuthContextProvider>\n\t\t<App />\n\t</AuthContextProvider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}